$headerHeight: 40vmin;

div.header_block {
    text-align: center;
    color: $mainFGColor;
    background: #d6e4ff;
    background: linear-gradient(to bottom, white, #e1e8f7);
    padding: 0;
    height: $headerHeight;
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    
    flex: 0 1 auto;

    div.three_d_context {
        position: absolute;
        height: $headerHeight;
        overflow: hidden;
        width: 100%;
        top: 0;
        left: 0;
        z-index: 0;
        perspective: 400px;
        transform-style: preserve-3d;
        perspective-origin: 50% 50%;

        div.header_grid {
            background: url('../img/grid.png') repeat;
            width: 800%;
            height: 800%;
            position: absolute;
            left: -400%;
            top: -400%;
            transform:
                rotateX(68deg)
                translateZ(-$headerHeight);
        }
    }
    
    div.fade_out {
        position: absolute;
        z-index: 1;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1;
        background: none;
        background: linear-gradient(to bottom, white, transparent);
    }

}

div.header_title_spacer {
    width: 100%;
    height: calc(#{$headerHeight} / 2 - 2rem);
    
    flex: 0 1 auto;
}

div.site_title {
    top: 0;
    position: sticky;
    z-index: 2;
    height: 4rem;
    width: 100%;
    background-color: transparent;
    transition: background-color 0.2s ease-out;
    
    flex: 0 1 auto;

    
    svg#compucad_logo_svg {
        height: 4rem;
        padding: 0.4rem 0;
        fill: $accent1;
        
        transition: fill 0.2s ease-out 0;
        
        &:hover, &:active {
            fill: $accent2;
        }
    }
    
    h1 {
        margin: 0 auto;
        text-align: center;
        font-size: 3.2rem;
    }

    &.sticky {
        background-color: $accent1;
        
        svg#compucad_logo_svg {
            height: 3.2rem;
            fill: $mainBGColor;
        }
    }

    a {
        text-decoration: none;
    }
}


img.header-logo {
    max-height: 194px;
    max-width: 100%;
    margin: 0 auto;
    margin-bottom: 1em;
}

img.header-img {
    max-width: 100%;
    max-height: 400px;

    @include paper-img;
}

div.navbar {
    position: sticky;
    top: 4rem;
    box-shadow: 0 1px 6px rgba(0,0,0,0.3);
    background: $veryLightGray;
    z-index: 1;
}

nav {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    align-content: center;
    align-items: center;

    flex: 0 1 auto;

    a, a:visited {
        padding: 0 1.5ex;
        margin: 1ex 0;
        color: $mainFGColor;
        text-decoration: none;

        @include animated-hover-line($accent1, rgba(255, 255, 255, 0));
    }
}

h2, h3 {
    &::before {
        display: block;
        content: " ";
        margin-top: -7rem;
        height: 7rem;
        visibility: hidden;
        pointer-events: none;
    }
}